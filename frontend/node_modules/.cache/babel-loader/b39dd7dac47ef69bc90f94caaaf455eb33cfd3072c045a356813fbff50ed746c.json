{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getLecturerReports}from'../../services/api';import'./Lecturer.css';// Import the CSS\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reports=_ref=>{let{user}=_ref;const[reports,setReports]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchReports();},[]);const fetchReports=async()=>{try{const response=await getLecturerReports(user.id);setReports(response.data);}catch(error){console.error('Error fetching reports:',error);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading reports...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"My Reports\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>window.location.reload(),children:\"Refresh\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:reports.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No reports submitted yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Class\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Week\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Attendance\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Topic\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Submitted\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:reports.map(report=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:report.course_name}),/*#__PURE__*/_jsx(\"td\",{children:report.class_name}),/*#__PURE__*/_jsx(\"td\",{children:report.week_of_reporting}),/*#__PURE__*/_jsx(\"td\",{children:new Date(report.date_of_lecture).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"td\",{children:[report.actual_students_present,\"/\",report.total_students_registered]}),/*#__PURE__*/_jsx(\"td\",{children:report.topic_taught}),/*#__PURE__*/_jsx(\"td\",{children:new Date(report.created_at).toLocaleDateString()})]},report.id))})]})})})]});};export default Reports;","map":{"version":3,"names":["React","useState","useEffect","getLecturerReports","jsx","_jsx","jsxs","_jsxs","Reports","_ref","user","reports","setReports","loading","setLoading","fetchReports","response","id","data","error","console","children","className","onClick","window","location","reload","length","map","report","course_name","class_name","week_of_reporting","Date","date_of_lecture","toLocaleDateString","actual_students_present","total_students_registered","topic_taught","created_at"],"sources":["C:/Users/USER/MPHOFE/lecturer-reporting-system/frontend/src/components/lecturer/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getLecturerReports } from '../../services/api';\r\nimport './Lecturer.css'; // Import the CSS\r\n\r\nconst Reports = ({ user }) => {\r\n  const [reports, setReports] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchReports();\r\n  }, []);\r\n\r\n  const fetchReports = async () => {\r\n    try {\r\n      const response = await getLecturerReports(user.id);\r\n      setReports(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching reports:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading reports...</div>;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n        <h4>My Reports</h4>\r\n        <button \r\n          className=\"btn btn-primary\"\r\n          onClick={() => window.location.reload()}\r\n        >\r\n          Refresh\r\n        </button>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {reports.length === 0 ? (\r\n          <p>No reports submitted yet.</p>\r\n        ) : (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Course</th>\r\n                  <th>Class</th>\r\n                  <th>Week</th>\r\n                  <th>Date</th>\r\n                  <th>Attendance</th>\r\n                  <th>Topic</th>\r\n                  <th>Submitted</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {reports.map((report) => (\r\n                  <tr key={report.id}>\r\n                    <td>{report.course_name}</td>\r\n                    <td>{report.class_name}</td>\r\n                    <td>{report.week_of_reporting}</td>\r\n                    <td>{new Date(report.date_of_lecture).toLocaleDateString()}</td>\r\n                    <td>{report.actual_students_present}/{report.total_students_registered}</td>\r\n                    <td>{report.topic_taught}</td>\r\n                    <td>{new Date(report.created_at).toLocaleDateString()}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}