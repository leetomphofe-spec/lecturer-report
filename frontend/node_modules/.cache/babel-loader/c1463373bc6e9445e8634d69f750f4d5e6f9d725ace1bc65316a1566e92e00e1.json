{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getLecturerMonitoring}from'../../services/api';import'./Lecturer.css';// Import the CSS\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Monitoring=_ref=>{let{user}=_ref;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{const response=await getLecturerMonitoring(user.id);setStats(response.data);}catch(error){console.error('Error fetching stats:',error);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading monitoring data...\"});if(!stats)return/*#__PURE__*/_jsx(\"div\",{children:\"No data available\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Reporting Statistics\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-primary mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Total Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text display-6\",children:stats.total_reports||0})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-success mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Avg Attendance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text display-6\",children:stats.avg_attendance?Math.round(stats.avg_attendance):0})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-info mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"First Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:stats.first_report?new Date(stats.first_report).toLocaleDateString():'N/A'})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-white bg-warning mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Last Report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:stats.last_report?new Date(stats.last_report).toLocaleDateString():'N/A'})]})})})]})})]});};export default Monitoring;","map":{"version":3,"names":["React","useState","useEffect","getLecturerMonitoring","jsx","_jsx","jsxs","_jsxs","Monitoring","_ref","user","stats","setStats","loading","setLoading","fetchStats","response","id","data","error","console","children","className","total_reports","avg_attendance","Math","round","first_report","Date","toLocaleDateString","last_report"],"sources":["C:/Users/USER/MPHOFE/lecturer-reporting-system/frontend/src/components/lecturer/Monitoring.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getLecturerMonitoring } from '../../services/api';\r\nimport './Lecturer.css'; // Import the CSS\r\n\r\nconst Monitoring = ({ user }) => {\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await getLecturerMonitoring(user.id);\r\n      setStats(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching stats:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading monitoring data...</div>;\r\n  if (!stats) return <div>No data available</div>;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h4>Reporting Statistics</h4>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-3\">\r\n            <div className=\"card text-white bg-primary mb-3\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Total Reports</h5>\r\n                <p className=\"card-text display-6\">{stats.total_reports || 0}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <div className=\"card text-white bg-success mb-3\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Avg Attendance</h5>\r\n                <p className=\"card-text display-6\">\r\n                  {stats.avg_attendance ? Math.round(stats.avg_attendance) : 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <div className=\"card text-white bg-info mb-3\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">First Report</h5>\r\n                <p className=\"card-text\">\r\n                  {stats.first_report ? new Date(stats.first_report).toLocaleDateString() : 'N/A'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <div className=\"card text-white bg-warning mb-3\">\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">Last Report</h5>\r\n                <p className=\"card-text\">\r\n                  {stats.last_report ? new Date(stats.last_report).toLocaleDateString() : 'N/A'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Monitoring;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}