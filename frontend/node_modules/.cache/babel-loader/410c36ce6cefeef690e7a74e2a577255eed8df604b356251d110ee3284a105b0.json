{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getLecturerRatings}from'../../services/api';import'./Lecturer.css';// Import the CSS\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Rating=_ref=>{let{user}=_ref;const[ratings,setRatings]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchRatings();},[]);const fetchRatings=async()=>{try{const response=await getLecturerRatings(user.id);setRatings(response.data);}catch(error){console.error('Error fetching ratings:',error);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading ratings...\"});const averageRating=ratings.length>0?(ratings.reduce((sum,rating)=>sum+rating.rating,0)/ratings.length).toFixed(1):0;return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Student Ratings\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Average Rating\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"display-4 text-primary\",children:[averageRating,\"/5\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"Based on \",ratings.length,\" rating(s)\"]})]})})})}),/*#__PURE__*/_jsx(\"h5\",{children:\"Recent Ratings\"}),ratings.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No ratings yet.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rating\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Comment\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:ratings.map(rating=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:rating.student_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-primary\",children:[rating.rating,\"/5\"]})}),/*#__PURE__*/_jsx(\"td\",{children:rating.comment||'No comment'}),/*#__PURE__*/_jsx(\"td\",{children:new Date(rating.created_at).toLocaleDateString()})]},rating.id))})]})})]})]});};export default Rating;","map":{"version":3,"names":["React","useState","useEffect","getLecturerRatings","jsx","_jsx","jsxs","_jsxs","Rating","_ref","user","ratings","setRatings","loading","setLoading","fetchRatings","response","id","data","error","console","children","averageRating","length","reduce","sum","rating","toFixed","className","map","student_name","comment","Date","created_at","toLocaleDateString"],"sources":["C:/Users/USER/MPHOFE/lecturer-reporting-system/frontend/src/components/lecturer/Rating.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getLecturerRatings } from '../../services/api';\r\nimport './Lecturer.css'; // Import the CSS\r\n\r\nconst Rating = ({ user }) => {\r\n  const [ratings, setRatings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchRatings();\r\n  }, []);\r\n\r\n  const fetchRatings = async () => {\r\n    try {\r\n      const response = await getLecturerRatings(user.id);\r\n      setRatings(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching ratings:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading ratings...</div>;\r\n\r\n  const averageRating = ratings.length > 0 \r\n    ? (ratings.reduce((sum, rating) => sum + rating.rating, 0) / ratings.length).toFixed(1)\r\n    : 0;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h4>Student Ratings</h4>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"row mb-4\">\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-body text-center\">\r\n                <h5>Average Rating</h5>\r\n                <div className=\"display-4 text-primary\">{averageRating}/5</div>\r\n                <p className=\"text-muted\">Based on {ratings.length} rating(s)</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <h5>Recent Ratings</h5>\r\n        {ratings.length === 0 ? (\r\n          <p>No ratings yet.</p>\r\n        ) : (\r\n          <div className=\"table-responsive\">\r\n            <table className=\"table table-striped\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Student</th>\r\n                  <th>Rating</th>\r\n                  <th>Comment</th>\r\n                  <th>Date</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {ratings.map((rating) => (\r\n                  <tr key={rating.id}>\r\n                    <td>{rating.student_name}</td>\r\n                    <td>\r\n                      <span className=\"badge bg-primary\">{rating.rating}/5</span>\r\n                    </td>\r\n                    <td>{rating.comment || 'No comment'}</td>\r\n                    <td>{new Date(rating.created_at).toLocaleDateString()}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rating;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}