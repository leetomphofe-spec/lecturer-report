{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\MPHOFE\\\\lecturer-reporting-system\\\\frontend\\\\src\\\\components\\\\pl\\\\ClassManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getPLClasses, assignClassToLecturer, getPLLecturers } from '../../services/api';\nimport './PL.css'; // Import the PL CSS\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClassManagement = ({\n  user\n}) => {\n  _s();\n  const [classes, setClasses] = useState([]);\n  const [lecturers, setLecturers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    try {\n      const [classesRes, lecturersRes] = await Promise.all([getPLClasses(), getPLLecturers()]);\n      setClasses(classesRes.data);\n      setLecturers(lecturersRes.data);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAssignLecturer = async (classId, lecturerId) => {\n    try {\n      await assignClassToLecturer({\n        class_id: classId,\n        lecturer_id: lecturerId\n      });\n      alert('Class assigned to lecturer successfully!');\n      fetchData(); // Refresh data\n    } catch (error) {\n      alert('Error assigning class to lecturer');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading class data...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Class Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Class Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Course\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Venue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Semester\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Assigned Lecturer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: classes.map(classItem => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: classItem.class_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [classItem.course_name, \" (\", classItem.course_code, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: classItem.venue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: classItem.semester\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: classItem.lecturer_name || /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-danger\",\n                  children: \"Not Assigned\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select form-select-sm\",\n                  value: classItem.lecturer_id || '',\n                  onChange: e => handleAssignLecturer(classItem.id, e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Assign Lecturer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 23\n                  }, this), lecturers.map(lecturer => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: lecturer.id,\n                    children: lecturer.name\n                  }, lecturer.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this)]\n            }, classItem.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(ClassManagement, \"RAR9gM93UCh0WYeXYd9qAQNLoh0=\");\n_c = ClassManagement;\nexport default ClassManagement;\nvar _c;\n$RefreshReg$(_c, \"ClassManagement\");","map":{"version":3,"names":["React","useState","useEffect","getPLClasses","assignClassToLecturer","getPLLecturers","jsxDEV","_jsxDEV","ClassManagement","user","_s","classes","setClasses","lecturers","setLecturers","loading","setLoading","fetchData","classesRes","lecturersRes","Promise","all","data","error","console","handleAssignLecturer","classId","lecturerId","class_id","lecturer_id","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","classItem","class_name","course_name","course_code","venue","semester","lecturer_name","value","onChange","e","id","target","lecturer","name","_c","$RefreshReg$"],"sources":["C:/Users/USER/MPHOFE/lecturer-reporting-system/frontend/src/components/pl/ClassManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getPLClasses, assignClassToLecturer, getPLLecturers } from '../../services/api';\r\nimport './PL.css'; // Import the PL CSS\r\n\r\nconst ClassManagement = ({ user }) => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [lecturers, setLecturers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const [classesRes, lecturersRes] = await Promise.all([\r\n        getPLClasses(),\r\n        getPLLecturers()\r\n      ]);\r\n      setClasses(classesRes.data);\r\n      setLecturers(lecturersRes.data);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAssignLecturer = async (classId, lecturerId) => {\r\n    try {\r\n      await assignClassToLecturer({\r\n        class_id: classId,\r\n        lecturer_id: lecturerId\r\n      });\r\n      alert('Class assigned to lecturer successfully!');\r\n      fetchData(); // Refresh data\r\n    } catch (error) {\r\n      alert('Error assigning class to lecturer');\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading class data...</div>;\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h4>Class Management</h4>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-striped\">\r\n            <thead>\r\n              <tr>\r\n                <th>Class Name</th>\r\n                <th>Course</th>\r\n                <th>Venue</th>\r\n                <th>Semester</th>\r\n                <th>Assigned Lecturer</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {classes.map((classItem) => (\r\n                <tr key={classItem.id}>\r\n                  <td>{classItem.class_name}</td>\r\n                  <td>{classItem.course_name} ({classItem.course_code})</td>\r\n                  <td>{classItem.venue}</td>\r\n                  <td>{classItem.semester}</td>\r\n                  <td>\r\n                    {classItem.lecturer_name || \r\n                      <span className=\"text-danger\">Not Assigned</span>\r\n                    }\r\n                  </td>\r\n                  <td>\r\n                    <select \r\n                      className=\"form-select form-select-sm\"\r\n                      value={classItem.lecturer_id || ''}\r\n                      onChange={(e) => handleAssignLecturer(classItem.id, e.target.value)}\r\n                    >\r\n                      <option value=\"\">Assign Lecturer</option>\r\n                      {lecturers.map((lecturer) => (\r\n                        <option key={lecturer.id} value={lecturer.id}>\r\n                          {lecturer.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClassManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}