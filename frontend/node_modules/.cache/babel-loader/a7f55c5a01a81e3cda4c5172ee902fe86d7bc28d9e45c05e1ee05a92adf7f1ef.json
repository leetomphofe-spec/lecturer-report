{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\MPHOFE\\\\lecturer-reporting-system\\\\frontend\\\\src\\\\components\\\\prl\\\\Rating.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getPRLReports, getPRLCourses } from '../../services/api';\nimport './PRL.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Rating = ({\n  user\n}) => {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [debugInfo, setDebugInfo] = useState('');\n  useEffect(() => {\n    fetchRatingData();\n  }, [user === null || user === void 0 ? void 0 : user.id]);\n  const fetchRatingData = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      setDebugInfo('Fetching rating data...');\n      console.log('‚≠ê PRL Rating - Fetching data for PRL:', user);\n      const [reportsRes, coursesRes] = await Promise.all([getPRLReports(user.id), getPRLCourses(user.id)]);\n      console.log('üìä PRL Reports Response:', reportsRes);\n      console.log('üìö PRL Courses Response:', coursesRes);\n      const reportsData = reportsRes.data || reportsRes || [];\n      const coursesData = coursesRes.data || coursesRes || [];\n      setReports(reportsData);\n      setCourses(coursesData);\n      setDebugInfo(`\n        PRL ID: ${user.id}\n        Reports: ${reportsData.length}\n        Courses: ${coursesData.length}\n      `);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3;\n      console.error('‚ùå Error fetching PRL rating data:', error);\n      console.error('‚ùå Error details:', {\n        message: error.message,\n        status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n        data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data\n      });\n      setError(`Failed to load rating data: ${error.message}`);\n      setDebugInfo(`Error: ${error.message} - Status: ${(_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calculate ratings and statistics based on attendance\n  const calculateStats = () => {\n    if (reports.length === 0) return null;\n\n    // Attendance-based ratings\n    const attendanceStats = reports.map(report => {\n      const attendanceRate = report.actual_students_present / report.total_students_registered * 100;\n      let rating, badgeClass, description;\n      if (attendanceRate >= 80) {\n        rating = 'Excellent';\n        badgeClass = 'success';\n        description = 'Strong student engagement';\n      } else if (attendanceRate >= 60) {\n        rating = 'Good';\n        badgeClass = 'primary';\n        description = 'Good participation';\n      } else if (attendanceRate >= 40) {\n        rating = 'Fair';\n        badgeClass = 'warning';\n        description = 'Moderate attendance';\n      } else {\n        rating = 'Poor';\n        badgeClass = 'danger';\n        description = 'Low attendance needs attention';\n      }\n      return {\n        ...report,\n        attendanceRate,\n        rating,\n        badgeClass,\n        description\n      };\n    });\n\n    // Lecturer performance summary\n    const lecturerPerformance = {};\n    attendanceStats.forEach(report => {\n      if (!lecturerPerformance[report.lecturer_name]) {\n        lecturerPerformance[report.lecturer_name] = {\n          totalReports: 0,\n          totalAttendance: 0,\n          ratings: []\n        };\n      }\n      lecturerPerformance[report.lecturer_name].totalReports++;\n      lecturerPerformance[report.lecturer_name].totalAttendance += report.attendanceRate;\n      lecturerPerformance[report.lecturer_name].ratings.push(report.rating);\n    });\n\n    // Calculate averages\n    Object.keys(lecturerPerformance).forEach(lecturer => {\n      const data = lecturerPerformance[lecturer];\n      data.averageAttendance = data.totalAttendance / data.totalReports;\n\n      // Count rating distribution\n      data.ratingCounts = {\n        Excellent: data.ratings.filter(r => r === 'Excellent').length,\n        Good: data.ratings.filter(r => r === 'Good').length,\n        Fair: data.ratings.filter(r => r === 'Fair').length,\n        Poor: data.ratings.filter(r => r === 'Poor').length\n      };\n    });\n    return {\n      attendanceStats,\n      lecturerPerformance,\n      totalReports: reports.length,\n      uniqueLecturers: Object.keys(lecturerPerformance).length,\n      averageAttendance: attendanceStats.reduce((sum, report) => sum + report.attendanceRate, 0) / attendanceStats.length\n    };\n  };\n\n  // Test function to load sample data\n  const loadSampleData = () => {\n    const sampleReports = [{\n      id: 1,\n      course_name: \"Web Development\",\n      course_code: \"DIWA2110\",\n      lecturer_name: \"Dr. Smith\",\n      lecturer_id: 1,\n      date_of_lecture: \"2024-01-20\",\n      actual_students_present: 25,\n      total_students_registered: 30,\n      topic_taught: \"React Components and State Management\",\n      venue: \"Lab 101\",\n      week_of_reporting: 6\n    }, {\n      id: 2,\n      course_name: \"Web Development\",\n      course_code: \"DIWA2110\",\n      lecturer_name: \"Dr. Smith\",\n      lecturer_id: 1,\n      date_of_lecture: \"2024-01-27\",\n      actual_students_present: 28,\n      total_students_registered: 30,\n      topic_taught: \"React Hooks and Context API\",\n      venue: \"Lab 101\",\n      week_of_reporting: 7\n    }, {\n      id: 3,\n      course_name: \"Database Systems\",\n      course_code: \"DBS3010\",\n      lecturer_name: \"Prof. Johnson\",\n      lecturer_id: 2,\n      date_of_lecture: \"2024-01-19\",\n      actual_students_present: 22,\n      total_students_registered: 32,\n      topic_taught: \"SQL Joins and Advanced Queries\",\n      venue: \"Room 205\",\n      week_of_reporting: 6\n    }, {\n      id: 4,\n      course_name: \"Network Security\",\n      course_code: \"NS4010\",\n      lecturer_name: \"Dr. Brown\",\n      lecturer_id: 3,\n      date_of_lecture: \"2024-01-18\",\n      actual_students_present: 15,\n      total_students_registered: 25,\n      topic_taught: \"Cryptography Principles\",\n      venue: \"Lab 302\",\n      week_of_reporting: 6\n    }];\n    const sampleCourses = [{\n      id: 1,\n      course_name: \"Web Development\",\n      course_code: \"DIWA2110\",\n      stream: \"Information Technology\"\n    }, {\n      id: 2,\n      course_name: \"Database Systems\",\n      course_code: \"DBS3010\",\n      stream: \"Information Technology\"\n    }];\n    setReports(sampleReports);\n    setCourses(sampleCourses);\n    setDebugInfo('‚úÖ Loaded sample data for testing');\n    console.log('üß™ Sample rating data loaded');\n  };\n\n  // Test API connection\n  const testAPIConnection = async () => {\n    try {\n      setDebugInfo('Testing API connection...');\n      const response = await fetch(`http://localhost:5000/api/prl/${user.id}/reports`);\n      const data = await response.json();\n      console.log('üîó Direct PRL Reports API Response:', {\n        status: response.status,\n        data\n      });\n      setDebugInfo(`PRL Reports API: ${response.status}`);\n    } catch (testError) {\n      console.error('‚ùå API Connection Test Failed:', testError);\n      setDebugInfo(`API Test Failed: ${testError.message}`);\n    }\n  };\n  const stats = calculateStats();\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prl-rating-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading teaching quality ratings...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"text-muted\",\n        children: debugInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"prl-rating-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83E\\uDDEA PRL RATING DEBUG INFO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"PRL ID: \", user === null || user === void 0 ? void 0 : user.id, \" | Role: \", user === null || user === void 0 ? void 0 : user.role]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Reports: \", reports.length, \" | Courses: \", courses.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: debugInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"debug-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadSampleData,\n          className: \"btn-test\",\n          children: \"\\uD83E\\uDDEA Load Sample Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchRatingData,\n          className: \"btn-refresh\",\n          children: \"\\uD83D\\uDD04 Refresh Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: testAPIConnection,\n          className: \"btn-test-api\",\n          children: \"\\uD83D\\uDD17 Test API\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-warning\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\u26A0\\uFE0F API Error:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCCA Teaching Quality Ratings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-primary\",\n            children: [reports.length, \" reports\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), reports.some(r => r.sample_data) && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-info ms-2\",\n            children: \"Sample Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: reports.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state-icon\",\n            children: \"\\u2B50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"No Reports Available for Rating Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"This could be because:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-start text-muted\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"No lecture reports have been submitted in your stream\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Lecturers in your stream haven't submitted any reports yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"There might be no courses assigned to your stream\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"The API endpoint might not be working correctly\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary me-2\",\n              onClick: fetchRatingData,\n              children: \"\\uD83D\\uDD04 Check Again\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-secondary me-2\",\n              onClick: loadSampleData,\n              children: \"\\uD83E\\uDDEA Load Sample Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-info\",\n              onClick: testAPIConnection,\n              children: \"\\uD83D\\uDD17 Test API\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this), courses.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"\\uD83D\\uDCDA Courses in Your Stream (\", courses.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"These courses are in your stream but have no reports yet:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: courses.slice(0, 6).map((course, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6 mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-body p-2\",\n                      children: /*#__PURE__*/_jsxDEV(\"small\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: course.course_code\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 33\n                        }, this), \": \", course.course_name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 92\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: [\"Stream: \", course.stream]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 319,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 317,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 27\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [stats && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card bg-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-number\",\n                  children: stats.totalReports\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-label\",\n                  children: \"Total Reports\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card bg-success\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-number\",\n                  children: stats.uniqueLecturers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-label\",\n                  children: \"Lecturers\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card bg-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-number\",\n                  children: [Math.round(stats.averageAttendance), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-label\",\n                  children: \"Avg Attendance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-card bg-warning\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-number\",\n                  children: [Math.round(stats.attendanceStats.filter(r => r.rating === 'Excellent' || r.rating === 'Good').length / stats.totalReports * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-label\",\n                  children: \"Positive Ratings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-responsive\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-striped table-hover\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"table-dark\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Lecturer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Course\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 370,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Attendance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Rating\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Topic Coverage\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Week\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: stats === null || stats === void 0 ? void 0 : stats.attendanceStats.map(report => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"\\uD83D\\uDC68\\u200D\\uD83C\\uDFEB \", report.lecturer_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: report.course_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 386,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"text-muted\",\n                      children: report.course_code\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 387,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: new Date(report.date_of_lecture).toLocaleDateString('en-US', {\n                      month: 'short',\n                      day: 'numeric'\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [report.actual_students_present, \"/\", report.total_students_registered, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"text-muted\",\n                        children: [\"(\", Math.round(report.attendanceRate), \"%)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `badge bg-${report.badgeClass}`,\n                      title: report.description,\n                      children: report.rating\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 403,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      title: report.topic_taught,\n                      children: report.topic_taught.length > 50 ? report.topic_taught.substring(0, 50) + '...' : report.topic_taught\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 408,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"badge bg-secondary\",\n                      children: [\"Week \", report.week_of_reporting]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 25\n                  }, this)]\n                }, report.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), stats && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"\\uD83D\\uDC68\\u200D\\uD83C\\uDFEB Lecturer Performance Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: Object.entries(stats.lecturerPerformance).sort(([, a], [, b]) => b.averageAttendance - a.averageAttendance).map(([lecturer, data]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6 col-lg-4 mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"card h-100\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                            className: \"card-title\",\n                            children: lecturer\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 440,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"lecturer-stats\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"stat-item\",\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"label\",\n                                children: \"Reports:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 443,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"value\",\n                                children: data.totalReports\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 444,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 442,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"stat-item\",\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"label\",\n                                children: \"Avg Attendance:\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 447,\n                                columnNumber: 41\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"value\",\n                                children: [Math.round(data.averageAttendance), \"%\"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 448,\n                                columnNumber: 41\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 446,\n                              columnNumber: 39\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"rating-breakdown\",\n                              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                                children: [data.ratingCounts.Excellent > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"badge bg-success me-1\",\n                                  children: [data.ratingCounts.Excellent, \"E\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 452,\n                                  columnNumber: 79\n                                }, this), data.ratingCounts.Good > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"badge bg-primary me-1\",\n                                  children: [data.ratingCounts.Good, \"G\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 453,\n                                  columnNumber: 74\n                                }, this), data.ratingCounts.Fair > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"badge bg-warning me-1\",\n                                  children: [data.ratingCounts.Fair, \"F\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 454,\n                                  columnNumber: 74\n                                }, this), data.ratingCounts.Poor > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"badge bg-danger me-1\",\n                                  children: [data.ratingCounts.Poor, \"P\"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 455,\n                                  columnNumber: 74\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 451,\n                                columnNumber: 41\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 450,\n                              columnNumber: 39\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 441,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 439,\n                          columnNumber: 35\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 438,\n                        columnNumber: 33\n                      }, this)\n                    }, lecturer, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 31\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"\\u2139\\uFE0F About Teaching Quality Ratings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"These ratings are based on attendance data as an indicator of teaching effectiveness and student engagement. Higher attendance typically correlates with better teaching quality, student satisfaction, and learning outcomes.\", courses.length > 0 && reports.length === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: \" Encourage lecturers in your stream to submit reports to see teaching quality analysis.\"\n                }, void 0, false)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n};\n_s(Rating, \"/hJdICtjD9Rg27zUGLtIQfLPADw=\");\n_c = Rating;\nexport default Rating;\nvar _c;\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"names":["React","useState","useEffect","getPRLReports","getPRLCourses","jsxDEV","_jsxDEV","Fragment","_Fragment","Rating","user","_s","reports","setReports","courses","setCourses","loading","setLoading","error","setError","debugInfo","setDebugInfo","fetchRatingData","id","console","log","reportsRes","coursesRes","Promise","all","reportsData","data","coursesData","length","_error$response","_error$response2","_error$response3","message","status","response","calculateStats","attendanceStats","map","report","attendanceRate","actual_students_present","total_students_registered","rating","badgeClass","description","lecturerPerformance","forEach","lecturer_name","totalReports","totalAttendance","ratings","push","Object","keys","lecturer","averageAttendance","ratingCounts","Excellent","filter","r","Good","Fair","Poor","uniqueLecturers","reduce","sum","loadSampleData","sampleReports","course_name","course_code","lecturer_id","date_of_lecture","topic_taught","venue","week_of_reporting","sampleCourses","stream","testAPIConnection","fetch","json","testError","stats","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","some","sample_data","slice","course","index","Math","round","Date","toLocaleDateString","month","day","title","substring","entries","sort","a","b","_c","$RefreshReg$"],"sources":["C:/Users/USER/MPHOFE/lecturer-reporting-system/frontend/src/components/prl/Rating.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getPRLReports, getPRLCourses } from '../../services/api';\r\nimport './PRL.css';\r\n\r\nconst Rating = ({ user }) => {\r\n  const [reports, setReports] = useState([]);\r\n  const [courses, setCourses] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [debugInfo, setDebugInfo] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchRatingData();\r\n  }, [user?.id]);\r\n\r\n  const fetchRatingData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      setDebugInfo('Fetching rating data...');\r\n      \r\n      console.log('‚≠ê PRL Rating - Fetching data for PRL:', user);\r\n      \r\n      const [reportsRes, coursesRes] = await Promise.all([\r\n        getPRLReports(user.id),\r\n        getPRLCourses(user.id)\r\n      ]);\r\n\r\n      console.log('üìä PRL Reports Response:', reportsRes);\r\n      console.log('üìö PRL Courses Response:', coursesRes);\r\n\r\n      const reportsData = reportsRes.data || reportsRes || [];\r\n      const coursesData = coursesRes.data || coursesRes || [];\r\n\r\n      setReports(reportsData);\r\n      setCourses(coursesData);\r\n\r\n      setDebugInfo(`\r\n        PRL ID: ${user.id}\r\n        Reports: ${reportsData.length}\r\n        Courses: ${coursesData.length}\r\n      `);\r\n\r\n    } catch (error) {\r\n      console.error('‚ùå Error fetching PRL rating data:', error);\r\n      console.error('‚ùå Error details:', {\r\n        message: error.message,\r\n        status: error.response?.status,\r\n        data: error.response?.data\r\n      });\r\n      \r\n      setError(`Failed to load rating data: ${error.message}`);\r\n      setDebugInfo(`Error: ${error.message} - Status: ${error.response?.status}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calculate ratings and statistics based on attendance\r\n  const calculateStats = () => {\r\n    if (reports.length === 0) return null;\r\n\r\n    // Attendance-based ratings\r\n    const attendanceStats = reports.map(report => {\r\n      const attendanceRate = (report.actual_students_present / report.total_students_registered) * 100;\r\n      let rating, badgeClass, description;\r\n      \r\n      if (attendanceRate >= 80) {\r\n        rating = 'Excellent';\r\n        badgeClass = 'success';\r\n        description = 'Strong student engagement';\r\n      } else if (attendanceRate >= 60) {\r\n        rating = 'Good';\r\n        badgeClass = 'primary';\r\n        description = 'Good participation';\r\n      } else if (attendanceRate >= 40) {\r\n        rating = 'Fair';\r\n        badgeClass = 'warning';\r\n        description = 'Moderate attendance';\r\n      } else {\r\n        rating = 'Poor';\r\n        badgeClass = 'danger';\r\n        description = 'Low attendance needs attention';\r\n      }\r\n\r\n      return {\r\n        ...report,\r\n        attendanceRate,\r\n        rating,\r\n        badgeClass,\r\n        description\r\n      };\r\n    });\r\n\r\n    // Lecturer performance summary\r\n    const lecturerPerformance = {};\r\n    attendanceStats.forEach(report => {\r\n      if (!lecturerPerformance[report.lecturer_name]) {\r\n        lecturerPerformance[report.lecturer_name] = {\r\n          totalReports: 0,\r\n          totalAttendance: 0,\r\n          ratings: []\r\n        };\r\n      }\r\n      lecturerPerformance[report.lecturer_name].totalReports++;\r\n      lecturerPerformance[report.lecturer_name].totalAttendance += report.attendanceRate;\r\n      lecturerPerformance[report.lecturer_name].ratings.push(report.rating);\r\n    });\r\n\r\n    // Calculate averages\r\n    Object.keys(lecturerPerformance).forEach(lecturer => {\r\n      const data = lecturerPerformance[lecturer];\r\n      data.averageAttendance = data.totalAttendance / data.totalReports;\r\n      \r\n      // Count rating distribution\r\n      data.ratingCounts = {\r\n        Excellent: data.ratings.filter(r => r === 'Excellent').length,\r\n        Good: data.ratings.filter(r => r === 'Good').length,\r\n        Fair: data.ratings.filter(r => r === 'Fair').length,\r\n        Poor: data.ratings.filter(r => r === 'Poor').length\r\n      };\r\n    });\r\n\r\n    return {\r\n      attendanceStats,\r\n      lecturerPerformance,\r\n      totalReports: reports.length,\r\n      uniqueLecturers: Object.keys(lecturerPerformance).length,\r\n      averageAttendance: attendanceStats.reduce((sum, report) => sum + report.attendanceRate, 0) / attendanceStats.length\r\n    };\r\n  };\r\n\r\n  // Test function to load sample data\r\n  const loadSampleData = () => {\r\n    const sampleReports = [\r\n      {\r\n        id: 1,\r\n        course_name: \"Web Development\",\r\n        course_code: \"DIWA2110\",\r\n        lecturer_name: \"Dr. Smith\",\r\n        lecturer_id: 1,\r\n        date_of_lecture: \"2024-01-20\",\r\n        actual_students_present: 25,\r\n        total_students_registered: 30,\r\n        topic_taught: \"React Components and State Management\",\r\n        venue: \"Lab 101\",\r\n        week_of_reporting: 6\r\n      },\r\n      {\r\n        id: 2,\r\n        course_name: \"Web Development\",\r\n        course_code: \"DIWA2110\",\r\n        lecturer_name: \"Dr. Smith\",\r\n        lecturer_id: 1,\r\n        date_of_lecture: \"2024-01-27\",\r\n        actual_students_present: 28,\r\n        total_students_registered: 30,\r\n        topic_taught: \"React Hooks and Context API\",\r\n        venue: \"Lab 101\",\r\n        week_of_reporting: 7\r\n      },\r\n      {\r\n        id: 3,\r\n        course_name: \"Database Systems\",\r\n        course_code: \"DBS3010\",\r\n        lecturer_name: \"Prof. Johnson\",\r\n        lecturer_id: 2,\r\n        date_of_lecture: \"2024-01-19\",\r\n        actual_students_present: 22,\r\n        total_students_registered: 32,\r\n        topic_taught: \"SQL Joins and Advanced Queries\",\r\n        venue: \"Room 205\",\r\n        week_of_reporting: 6\r\n      },\r\n      {\r\n        id: 4,\r\n        course_name: \"Network Security\",\r\n        course_code: \"NS4010\",\r\n        lecturer_name: \"Dr. Brown\",\r\n        lecturer_id: 3,\r\n        date_of_lecture: \"2024-01-18\",\r\n        actual_students_present: 15,\r\n        total_students_registered: 25,\r\n        topic_taught: \"Cryptography Principles\",\r\n        venue: \"Lab 302\",\r\n        week_of_reporting: 6\r\n      }\r\n    ];\r\n\r\n    const sampleCourses = [\r\n      {\r\n        id: 1,\r\n        course_name: \"Web Development\",\r\n        course_code: \"DIWA2110\",\r\n        stream: \"Information Technology\"\r\n      },\r\n      {\r\n        id: 2,\r\n        course_name: \"Database Systems\",\r\n        course_code: \"DBS3010\",\r\n        stream: \"Information Technology\"\r\n      }\r\n    ];\r\n\r\n    setReports(sampleReports);\r\n    setCourses(sampleCourses);\r\n    setDebugInfo('‚úÖ Loaded sample data for testing');\r\n    console.log('üß™ Sample rating data loaded');\r\n  };\r\n\r\n  // Test API connection\r\n  const testAPIConnection = async () => {\r\n    try {\r\n      setDebugInfo('Testing API connection...');\r\n      \r\n      const response = await fetch(`http://localhost:5000/api/prl/${user.id}/reports`);\r\n      const data = await response.json();\r\n      console.log('üîó Direct PRL Reports API Response:', { status: response.status, data });\r\n      \r\n      setDebugInfo(`PRL Reports API: ${response.status}`);\r\n      \r\n    } catch (testError) {\r\n      console.error('‚ùå API Connection Test Failed:', testError);\r\n      setDebugInfo(`API Test Failed: ${testError.message}`);\r\n    }\r\n  };\r\n\r\n  const stats = calculateStats();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"prl-rating-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading teaching quality ratings...</p>\r\n        <small className=\"text-muted\">{debugInfo}</small>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"prl-rating-container\">\r\n      {/* Debug Panel */}\r\n      <div className=\"debug-panel\">\r\n        <strong>üß™ PRL RATING DEBUG INFO</strong>\r\n        <div>PRL ID: {user?.id} | Role: {user?.role}</div>\r\n        <div>Reports: {reports.length} | Courses: {courses.length}</div>\r\n        <div>{debugInfo}</div>\r\n        \r\n        <div className=\"debug-actions\">\r\n          <button onClick={loadSampleData} className=\"btn-test\">\r\n            üß™ Load Sample Data\r\n          </button>\r\n          <button onClick={fetchRatingData} className=\"btn-refresh\">\r\n            üîÑ Refresh Data\r\n          </button>\r\n          <button onClick={testAPIConnection} className=\"btn-test-api\">\r\n            üîó Test API\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"alert alert-warning\">\r\n          <strong>‚ö†Ô∏è API Error:</strong> {error}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n          <h4>üìä Teaching Quality Ratings</h4>\r\n          <div>\r\n            <span className=\"badge bg-primary\">{reports.length} reports</span>\r\n            {reports.some(r => r.sample_data) && (\r\n              <span className=\"badge bg-info ms-2\">Sample Data</span>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"card-body\">\r\n          {reports.length === 0 ? (\r\n            <div className=\"text-center py-5\">\r\n              <div className=\"empty-state-icon\">‚≠ê</div>\r\n              <h5>No Reports Available for Rating Analysis</h5>\r\n              <p className=\"text-muted\">\r\n                This could be because:\r\n              </p>\r\n              <ul className=\"text-start text-muted\">\r\n                <li>No lecture reports have been submitted in your stream</li>\r\n                <li>Lecturers in your stream haven't submitted any reports yet</li>\r\n                <li>There might be no courses assigned to your stream</li>\r\n                <li>The API endpoint might not be working correctly</li>\r\n              </ul>\r\n              \r\n              <div className=\"mt-4\">\r\n                <button className=\"btn btn-primary me-2\" onClick={fetchRatingData}>\r\n                  üîÑ Check Again\r\n                </button>\r\n                <button className=\"btn btn-outline-secondary me-2\" onClick={loadSampleData}>\r\n                  üß™ Load Sample Data\r\n                </button>\r\n                <button className=\"btn btn-info\" onClick={testAPIConnection}>\r\n                  üîó Test API\r\n                </button>\r\n              </div>\r\n\r\n              {/* Show courses for reference */}\r\n              {courses.length > 0 && (\r\n                <div className=\"mt-4\">\r\n                  <div className=\"alert alert-info\">\r\n                    <h6>üìö Courses in Your Stream ({courses.length})</h6>\r\n                    <p>These courses are in your stream but have no reports yet:</p>\r\n                    <div className=\"row\">\r\n                      {courses.slice(0, 6).map((course, index) => (\r\n                        <div key={index} className=\"col-md-6 mb-2\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-body p-2\">\r\n                              <small>\r\n                                <strong>{course.course_code}</strong>: {course.course_name}<br/>\r\n                                <span className=\"text-muted\">Stream: {course.stream}</span>\r\n                              </small>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {/* Overall Statistics */}\r\n              {stats && (\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"stat-card bg-primary\">\r\n                      <div className=\"stat-number\">{stats.totalReports}</div>\r\n                      <div className=\"stat-label\">Total Reports</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"stat-card bg-success\">\r\n                      <div className=\"stat-number\">{stats.uniqueLecturers}</div>\r\n                      <div className=\"stat-label\">Lecturers</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"stat-card bg-info\">\r\n                      <div className=\"stat-number\">{Math.round(stats.averageAttendance)}%</div>\r\n                      <div className=\"stat-label\">Avg Attendance</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"stat-card bg-warning\">\r\n                      <div className=\"stat-number\">\r\n                        {Math.round((stats.attendanceStats.filter(r => r.rating === 'Excellent' || r.rating === 'Good').length / stats.totalReports) * 100)}%\r\n                      </div>\r\n                      <div className=\"stat-label\">Positive Ratings</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Attendance-Based Ratings Table */}\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table table-striped table-hover\">\r\n                  <thead className=\"table-dark\">\r\n                    <tr>\r\n                      <th>Lecturer</th>\r\n                      <th>Course</th>\r\n                      <th>Date</th>\r\n                      <th>Attendance</th>\r\n                      <th>Rating</th>\r\n                      <th>Topic Coverage</th>\r\n                      <th>Week</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {stats?.attendanceStats.map((report) => (\r\n                      <tr key={report.id}>\r\n                        <td>\r\n                          <strong>üë®‚Äçüè´ {report.lecturer_name}</strong>\r\n                        </td>\r\n                        <td>\r\n                          <strong>{report.course_name}</strong>\r\n                          <br />\r\n                          <small className=\"text-muted\">{report.course_code}</small>\r\n                        </td>\r\n                        <td>\r\n                          {new Date(report.date_of_lecture).toLocaleDateString('en-US', {\r\n                            month: 'short',\r\n                            day: 'numeric'\r\n                          })}\r\n                        </td>\r\n                        <td>\r\n                          <div>\r\n                            {report.actual_students_present}/{report.total_students_registered}\r\n                            <br />\r\n                            <small className=\"text-muted\">({Math.round(report.attendanceRate)}%)</small>\r\n                          </div>\r\n                        </td>\r\n                        <td>\r\n                          <span className={`badge bg-${report.badgeClass}`} title={report.description}>\r\n                            {report.rating}\r\n                          </span>\r\n                        </td>\r\n                        <td>\r\n                          <span title={report.topic_taught}>\r\n                            {report.topic_taught.length > 50 ? \r\n                              report.topic_taught.substring(0, 50) + '...' : \r\n                              report.topic_taught\r\n                            }\r\n                          </span>\r\n                        </td>\r\n                        <td>\r\n                          <span className=\"badge bg-secondary\">Week {report.week_of_reporting}</span>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Lecturer Performance Summary */}\r\n              {stats && (\r\n                <div className=\"row mt-4\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card\">\r\n                      <div className=\"card-header\">\r\n                        <h5>üë®‚Äçüè´ Lecturer Performance Summary</h5>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"row\">\r\n                          {Object.entries(stats.lecturerPerformance)\r\n                            .sort(([,a], [,b]) => b.averageAttendance - a.averageAttendance)\r\n                            .map(([lecturer, data]) => (\r\n                              <div key={lecturer} className=\"col-md-6 col-lg-4 mb-3\">\r\n                                <div className=\"card h-100\">\r\n                                  <div className=\"card-body\">\r\n                                    <h6 className=\"card-title\">{lecturer}</h6>\r\n                                    <div className=\"lecturer-stats\">\r\n                                      <div className=\"stat-item\">\r\n                                        <span className=\"label\">Reports:</span>\r\n                                        <span className=\"value\">{data.totalReports}</span>\r\n                                      </div>\r\n                                      <div className=\"stat-item\">\r\n                                        <span className=\"label\">Avg Attendance:</span>\r\n                                        <span className=\"value\">{Math.round(data.averageAttendance)}%</span>\r\n                                      </div>\r\n                                      <div className=\"rating-breakdown\">\r\n                                        <small>\r\n                                          {data.ratingCounts.Excellent > 0 && <span className=\"badge bg-success me-1\">{data.ratingCounts.Excellent}E</span>}\r\n                                          {data.ratingCounts.Good > 0 && <span className=\"badge bg-primary me-1\">{data.ratingCounts.Good}G</span>}\r\n                                          {data.ratingCounts.Fair > 0 && <span className=\"badge bg-warning me-1\">{data.ratingCounts.Fair}F</span>}\r\n                                          {data.ratingCounts.Poor > 0 && <span className=\"badge bg-danger me-1\">{data.ratingCounts.Poor}P</span>}\r\n                                        </small>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            ))\r\n                          }\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Note about Student Ratings */}\r\n              <div className=\"alert alert-info mt-4\">\r\n                <h6>‚ÑπÔ∏è About Teaching Quality Ratings</h6>\r\n                <p className=\"mb-0\">\r\n                  <small>\r\n                    These ratings are based on attendance data as an indicator of teaching effectiveness and student engagement. \r\n                    Higher attendance typically correlates with better teaching quality, student satisfaction, and learning outcomes.\r\n                    {courses.length > 0 && reports.length === 0 && (\r\n                      <> Encourage lecturers in your stream to submit reports to see teaching quality analysis.</>\r\n                    )}\r\n                  </small>\r\n                </p>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rating;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}